csp函数大概分为以下几类：
1.服务提供者函数

应用程序使用服务提供者函数来连接和断开一个CSP。下面就是主要的API：

CryptAcquireContext获得指定CSP的密钥容器的句柄

CryptContextAddRef对HCRYPTPROV句柄增加一个应用计数

CryptEnumProviders枚举当前计算机中的CSP

CryptEnumProviderTypes枚举CSP的类型

CryptGetDefaultProvider对于指定CSP类型的却省CSP

CryptGetProvParam得到一个CSP的属性

CryptInstallDefaultContext安装先前得到的HCRYPTPROV上下文作为当前却省的上下文

CryptReleaseContext释放由CryptAcquireContext得到的句柄

CryptSetProvider和CryptSetProviderEx为指定CSP类型指定一个却省的CSP

CryptSetProvParam指定一个CSP的属性

CryptUninstallDefaultContext删除先前由CryptInstallDefaultContext安装的却省上下文

2.密钥的产生和交换函数

密钥产生函数创建、配置和销毁加密密钥。他们也用于和其他用户进行交换密钥。下面就是主要的一些函数：

CryptAcquireCertificatePrivateKey对于指定证书上下文得到一个HCRYPTPROV句柄和dwKeySpec

CryptDeriveKey从一个密码中派生一个密钥

CryptDestoryKey销毁密钥

CryptDuplicateKey制作一个密钥和密钥状态的精确复制

CryptExportKey把CSP的密钥做成BLOB 传送到应用程序的内存空间中

CryptGenKey创建一个随机密钥

CryptGenRandom产生一个随机数

CryptGetKeyParam得到密钥的参数

CryptGetUserKey得到一个密钥交换或签名密钥的句柄

CryptImportKey把一个密钥BLOB传送到CSP 中

CryptSetKeyParam指定一个密钥的参数

3.编码/解码函数

有一些编码/解码函数，他们可以用来对证书、证书撤销列表、证书请求和证书扩展进行编码和解码。

以下就是这几个函数：

CryptDecodeObject对lpszStructType结构进行解码

CryptDecodeObjectEx对lpszStructType结构进行解码，此函数支持内存分配选项

CryptEncodeObject对lpszStructType结构进行编码

CyptEncodeObjectEx对lpszStructType结构进行编码，此函数支持内存分配选项

4.数据加密/解密函数

这些函数支持数据的加密/解密操作。

CryptEncrypt 和CryptDecrypt 要求在被调用前指定一个密钥。

注：这个密钥可以由CryptGenKey、CryptDeriveKey 或CryptImportKey 产生。创建密钥时要指定加密算法。

CryptSetKeyParam函数可以指定额外的加密参数。

CryptDecrypt使用指定加密密钥来解密一段密文

CryptEncrypt使用指定加密密钥来加密一段明文

CryptProtectData执行对DATA_BLOB结构的加密

CryptUnprotectData执行对DATA_BLOB结构的完整性验证和解密

5.哈希和数字签名函数

这些函数在应用程序中完成计算哈希、创建和校验数字签名。

CryptCreateHash创建一个空哈希对象

CryptDestoryHash销毁一个哈希对象

CryptDuplicateHash复制一个哈希对象

CryptGetHashParam得到一个哈希对象参数

CryptHashData对一块数据进行哈希，把它加到指定的哈希对象中

CryptHashSessionKey对一个会话密钥进行哈希，把它加到指定的哈希对象中

CryptSetHashParam设置一个哈希对象的参数

CryptSignHash对一个哈希对象进行签名

CryptVerifySignature校验一个数字签名





